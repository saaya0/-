

let map;
let marker = [];
let infoWindow = [];
let count = 0;

$(function(){
  console.log("test")
  $.ajax({
    url: "/spots",
    type: "GET",
    data: "",
    dataType: "json"
  })
  .done(function(data) {
    console.log("success")
  })
  .fail(function(){
    console.log("fail")
  })
})


function initMap(){

  geocoder = new google.maps.Geocoder()

  map = new google.maps.Map(document.getElementById('map'), {
  center: {lat: 34.97171938, lng: 138.3879278},
  zoom: 9.3
  });  //マップ表示場所とサイズ指定
  console.log(gon.spot.latitude);　//経緯
  console.log(gon.spot.longitude);　//緯度

  for (var i = 0; i < count; i++) {
    markerEvent(i)
  }
}

  function markerEvent(i) {
    marker[i].addListener('click', function () {
      infoWindow[i].open(map, marker[i]);
    });
  }